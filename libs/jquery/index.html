<!DOCTYPE html>
<html>

<head>
    <title>DevExtreme jQuery Example</title>

    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <style>
        .example {
            margin: 20px;
            padding: 0 0 20px 0;
        }

        .example__title {
            font-weight: 500;
            font-size: 20px;
            margin: 0 0 20px 0;
        }

        .example__info {
            margin: 20px 0 0 0;
        }

        .example__play-part {
            margin: 20px 0 0 0;
        }

        .example-input {
            padding: 10px;
            margin: 0 10px;
            border: 1px solid #ececec;
            border-radius: 4px;
            outline: none;
            font-size: 16px;
        }

        .example-input:focus {
            border: 1px solid #f05b41;
        }

        .example:not(:last-of-type) {
            border-bottom: 1px solid #ececec;
        }
    </style>
    <style>
        .custom-pager-item {
            padding: 10px;
            background-color: #fff;
            cursor: pointer;
        }

        .custom-pager-item:first-of-type {
            border-top-left-radius: 4px;
            border-bottom-left-radius: 4px;
        }

        .custom-pager-item:last-of-type {
            border-top-right-radius: 4px;
            border-bottom-right-radius: 4px;
        }

        .custom-pager-item.--selected {
            color: #fafafa;
            background-color: #f05b41;
        }

        .divider {
            width: 1px;
            cursor: default;
        }

        .divider__line {
            width: 100%;
            height: 100%;
            background-color: #d4d4d4;
        }

        .custom-pager-sizes {
            display: flex;
            flex-direction: column-reverse;
            box-shadow: rgba(149, 157, 165, .2) 0 8px 24px;
        }

        .custom-pager-numbers {
            display: flex;
            align-items: center;
        }

        .custom-pager-numbers__content {
            display: flex;
            flex-direction: row-reverse;
            align-items: center;
            box-shadow: rgba(149, 157, 165, .2) 0 8px 24px;
        }

        .custom-pager {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .custom-pager__item {
            margin: 10px;
        }
    </style>
    <script type="text/javascript" src="./dest/bundle.debug.js" charset="utf-8"></script>
    <div>Using selectbox from Devextreme example</div>
    <div id="button">Change readOnly</div>
    <div id="selectbox"></div>
    <div>Pager examples</div>
    <div className="example">
        <div className="example__title">
            Customize pager options
        </div>
        <div className="example__control">
            <div id="pager">
            </div>
        </div>
        <div class="example__info">
            <div class="example__play-part">
                <span>Select page sizes:</span>
                <select class="example-input page-sizes">
                    <option value="0" selected="">[10, 20, 30]</option>
                    <option value="1">[20, 40, 60]</option>
                </select>
            </div>
            <div class="example__play-part">
                <span>Set page count:</span>
                <input class="example-input page-count" type="number" min="1" value="20">
            </div>
        </div>
    </div>
    <div className="example">
        <div className="example__title">
            Customization items example
        </div>
        <div className="example__control">
            <div id="pager-customize-item"></div>
        </div>
    </div>

    <div className="example">
        <div className="example__title">
            Customization reuse default templates example
        </div>
        <div className="example__control">
            <div id="pager-reuse-template"></div>
        </div>
    </div>

    <div className="example">
        <div className="example__title">
            Customization main template example
        </div>
        <div className="example__control">
            <div id="pager-main-template"></div>
        </div>
    </div>
    <script>
        (function() {
            const PAGE_SIZES = [
                [10, 20, 30],
                [20, 40, 60],
            ];
            const seelctBox = new window.DevExpress.ui.dxSelectBoxWrapper(document.querySelector('#selectbox'), {
                itemTemplate: (item, index, container) => {
                    const el = document.createElement('div');
                    el.style = "background-color: red;";
                    el.append(index);
                    container.appendChild(el);
                }
            });
            document.querySelector('#button').addEventListener('click', () => {
                seelctBox.option('readOnly', !seelctBox.option('readOnly'))
            })
            const pager = new window.DevExpress.ui.dxPager(document.querySelector('#pager'), {});
            document.querySelector('.page-sizes').addEventListener('change', ({ srcElement }) => {
                pager.option('pageSizes', PAGE_SIZES[srcElement.selectedIndex]);
                console.log(PAGE_SIZES[srcElement.selectedIndex]);
            })
            document.querySelector('.page-count').addEventListener('change', ({ srcElement }) => {
                pager.option('pageCount', parseInt(srcElement.value));
            })
            const CustomPageNumberItem = (data) => {
                const { item, selectPage } = data;
                const clickHandler = () => selectPage(item.value);
                const itemEl = document.createElement('div')
                itemEl.className = `custom-pager-item ${item.selected ? '--selected' : ''}`;
                itemEl.addEventListener('click', clickHandler);
                itemEl.appendChild(document.createTextNode(item.label))
                return itemEl;
            }

            const CustomPageNumberDivider = ({ item }) => {
                const itemEl = document.createElement('div');
                itemEl.className = 'custom-pager-item divider';
                const content = document.createElement('div');
                content.className = 'divider__line';
                itemEl.appendChild(content);
                return itemEl;
            }

            new window.DevExpress.ui.dxPager(document.querySelector('#pager-customize-item'), {
                pageCount: 20,
                defaultSelectedPage: 2,
                defaultSelectedPageSize: 10,
                pageNumberItemView: CustomPageNumberItem,
                pageNumberFakeItemView: CustomPageNumberDivider,
            });

            const CustomPageNumber = ({ viewModel, selectPage }) => {
                const pagesEl = document.createElement('div');
                pagesEl.className = 'custom-pager-numbers';
                const pagesNumbersEl = document.createElement('div');
                pagesNumbersEl.className = 'custom-pager-numbers__content';
                viewModel.items.forEach((item) => {
                    const itemEl = document.createElement('div');
                    window.DXViews.DxPagerPageNumberItemView({
                        item, selectPage
                    }, itemEl);
                    pagesNumbersEl.appendChild(itemEl);
                });
                pagesEl.appendChild(pagesNumbersEl);
                return pagesEl;
            }

            new window.DevExpress.ui.dxPager(document.querySelector('#pager-reuse-template'), {
                selectedPageSize: 20,
                pageNumberView: CustomPageNumber,
            });

            const CustomPager = ({
                pageSizeViewModel,
                pageNumberViewModel,
                selectedPageChange,
                selectedPageSizeChange
            }, container) => {
                const pagesEl = document.createElement('div');
                pagesEl.className = 'custom-pager';
                const pagesNumberEl = document.createElement('div');
                pagesNumberEl.className = 'custom-pager-item';
                const pageSizesEl = document.createElement('div');
                pagesNumberEl.className = 'custom-pager-item';
                const numbersEl = document.createElement('div');
                // TODO Vitik move to TemplateWrapper
                window.DXInfernoTemplateWrapper(
                    pageNumberViewModel.template,
                    { data: { viewModel: pageNumberViewModel, selectPage: selectedPageChange } },
                    numbersEl,
                    true);
                pagesNumberEl.appendChild(numbersEl);
                pagesEl.appendChild(pagesNumberEl);
                pagesEl.appendChild(pageSizesEl);
                container.appendChild(pagesEl)
                return pagesEl;
            }
            const RootViewCustomPageNumber = ({ viewModel, selectPage }) => {
                const pagesEl = document.createElement('div');
                pagesEl.className = 'custom-pager-numbers';
                const pagesNumbersEl = document.createElement('div');
                pagesNumbersEl.className = 'custom-pager-numbers__content';
                const containerEl = document.createElement('div');
                window.DXViews.DxPagerPageNumberView(
                    { viewModel, selectPage },
                    containerEl
                );
                pagesNumbersEl.appendChild(containerEl);
                pagesEl.appendChild(pagesNumbersEl);
                return pagesEl;
            }
            new window.DevExpress.ui.dxPager(document.querySelector('#pager-main-template'), {
                selectedPageSize: 20,
                pagerView: CustomPager,
                pageNumberView: RootViewCustomPageNumber,
                pageNumberItemView: CustomPageNumberItem,
                pageNumberFakeItemView: CustomPageNumberDivider
            });
        })();
    </script>
</body>

</html>